
#- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# the support files
foreach( X path.here path.append path.remove )
  install_X( ${support_dir}/bin/${X} )
endforeach()

install( DIRECTORY ${support_dir}/bin
  DESTINATION ${support_dir}
  USE_SOURCE_PERMISSIONS )

install( DIRECTORY ${support_dir}/man
  DESTINATION ${support_dir}
  USE_SOURCE_PERMISSIONS )

install( DIRECTORY ${support_dir}/extras
  DESTINATION ${support_dir}
  USE_SOURCE_PERMISSIONS )

... ... ...


vSnap( support_dir )
find_program( MAKESELF_SH "makeself.sh" )
vsnap( MAKESELF_SH )

add_custom_target( portable

  COMMAND bash ${CMAKE_SOURCE_DIR}/${support_dir}/bin/port-build.bash
    --makeself ${CMAKE_SOURCE_DIR}/${support_dir}/bin/makeself.sh
    --prefix   ${CMAKE_INSTALL_PREFIX}
    --triplet  ${VERSION_TRIPLET}
    --version  ${VERSION_STRING}
    --portdir  portable

# COMMAND ${CMAKE_COMMAND} -DCMAKE_INSTALL_PREFIX=portable -P ${CMAKE_BINARY_DIR}/cmake_install.cmake

  )
